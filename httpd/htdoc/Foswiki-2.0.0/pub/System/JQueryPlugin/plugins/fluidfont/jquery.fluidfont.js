(function($){$.fluidfont={build:function(options){var $this=$(this),opts=$.extend({},$.fluidfont.defaults,options),lineRatio,fontRatio,fontSize,lineHeight;function getRatio(size){if(size.match(/px/)){return parseFloat(size)/opts.width}if(size.match(/em/)){return parseFloat(size)}if(size.match(/%/)){return parseFloat(size)/100}return size}fontSize=$this.css("font-size");fontRatio=getRatio(fontSize);lineHeight=$this.css("line-height");lineRatio=getRatio(lineHeight);lineRatio=lineRatio/fontRatio;function resize(){var width=$this.width(),fontSize=fontRatio*width,lineHeight;if(typeof opts.max=="number"&&fontSize>opts.max){fontSize=opts.max}if(typeof opts.min=="number"&&fontSize<opts.min){fontSize=opts.min}lineHeight=fontSize*lineRatio;$this.css({"font-size":fontSize+"px","line-height":lineHeight+"px"});window.setTimeout(function(){$(window).one("resize.fluidfont",resize)},100)}resize();return $this},defaults:{width:1024,min:10,max:15}};$.fn.fluidfont=$.fluidfont.build;$(function(){$(".jqFluidFont").not(".jqInitedFluidFont").each(function(){var $this=$(this),opts=$.extend({},$this.metadata());$this.addClass("jqInitedFluidFont");$this.fluidfont(opts)})})})(jQuery);