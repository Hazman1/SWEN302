foswiki.Window={POPUP_WINDOW_WIDTH:600,POPUP_WINDOW_HEIGHT:480,POPUP_ATTRIBUTES:"titlebar=0,resizable,scrollbars",openPopup:function(inUrl,inOptions,inAltWindow){if(!inUrl)return null;var paramsString="";var name="";var pathString=inUrl;var windowAttributes=[];var width=foswiki.Window.POPUP_WINDOW_WIDTH;var height=foswiki.Window.POPUP_WINDOW_HEIGHT;var attributes=foswiki.Window.POPUP_ATTRIBUTES;if(inOptions){var pathElements=[];if(inOptions.web!=undefined)pathElements.push(inOptions.web);if(inOptions.topic!=undefined){pathElements.push(inOptions.topic)}pathString+=pathElements.join("/");var params=[];if(inOptions.skin!=undefined){params.push("skin="+inOptions.skin)}if(inOptions.template!=undefined){params.push("template="+inOptions.template)}if(inOptions.section!=undefined){params.push("section="+inOptions.section)}if(inOptions.cover!=undefined){params.push("cover="+inOptions.cover)}if(inOptions.urlparams!=undefined){params.push(inOptions.urlparams)}paramsString=params.join(";");if(paramsString.length>0){paramsString="?"+paramsString}if(inOptions.topic!=undefined){name=inOptions.topic}if(inOptions.name!=undefined){name=inOptions.name}if(inOptions.width!=undefined)width=inOptions.width;if(inOptions.height!=undefined)height=inOptions.height;if(inOptions.attributes!=undefined)attributes=inOptions.attributes}windowAttributes.push("width="+width);windowAttributes.push("height="+height);windowAttributes.push(attributes);var attributesString=windowAttributes.join(",");var url=pathString+paramsString;var window=open(url,name,attributesString);if(window){window.focus();return window}if(inAltWindow&&inAltWindow.document){inAltWindow.document.location.href=pathString}return null}};function launchWindow(inWeb,inTopic){foswiki.Window.openPopup(foswiki.getPreference("SCRIPTURLPATH")+"/view"+foswiki.getPreference("SCRIPTSUFFIX")+"/",{web:inWeb,topic:inTopic,template:"viewplain"});return false}